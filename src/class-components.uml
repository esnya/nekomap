@startuml
!include class-common.iuml

namespace components {
    class App {
        +constructor({ title : String })
    }

    class Toolbar {
        +constructor({})
    }

    App "1" *-- "1" Canvas
    App "1" *-- "1" Toolbar

    class ModePalette {
        +constructor({ mode : ModeType })
    }
    ModePalette --> actions.mode.Mode

    class ObjectPalette {
        +constructor({ type : ObjectType })
    }
    ObjectPalette --> actions.editor.type

    class ManipulatorPalette {
        +constructor({ manipulator : ManipulatorType })
    }
    ManipulatorPalette --> actions.editor.manipulator

    Toolbar "1" *-- "1" ModePalette
    Toolbar "1" *-- "1" ObjectPalette
    Toolbar "1" *-- "1" ManipulatorPalette

    class Canvas {
        -renderer : THREE.Renderer
        +constructor({ mode : String, editor : Object, scene : THREE.Scene, camera : THREE.Camera })
    }
    Canvas "1" *-- "1" THREE.Renderer
    Canvas --> actions.object.Create : if mode is CREATE
    Canvas --> actions.object.Rotate : if mode is EDIT and editor.manipulator is ROTATE
    Canvas --> actions.object.Scale : if mode is EDIT and editor.manipulator is SCALE
    Canvas --> actions.object.Translate : if mode is EDIT and editor.manipulator is TRANSALATE
}

@enduml